%!TEX TS-program = xelatex
\documentclass[a4paper]{article}
\NeedsTeXFormat{LaTeX2e}

%%%%%%%%%%
% Colors %
%%%%%%%%%%

\RequirePackage{xcolor}

\definecolor{white}{RGB}{255,255,255}

\definecolor{darkgray}{HTML}{333333}
\definecolor{gray}{HTML}{4D4D4D}
\definecolor{lightgray}{HTML}{999999}
\definecolor{headercolor}{HTML}{333333}

\definecolor{green}{HTML}{72b54c}
\definecolor{orange}{HTML}{b56d4c}
\definecolor{purple}{HTML}{b54c72}
\definecolor{blue}{HTML}{4c97b5}

%%%%%%%%%
% Fonts %
%%%%%%%%%

\RequirePackage[quiet]{fontspec}
\RequirePackage{unicode-math}

\newfontfamily\bodyfont[
  BoldFont=texgyreheros-bold.otf,
  ItalicFont=texgyreheros-italic.otf,
  BoldItalicFont=texgyreheros-bolditalic.otf
]{texgyreheros-regular.otf}

\newfontfamily\thinfont[]{Lato-Light.ttf}
\newfontfamily\headingfont[]{texgyreheros-bold.otf}

\defaultfontfeatures{Mapping=tex-text}
\setmainfont[
  Mapping=tex-text,
  Color=textcolor,
  BoldFont=texgyreheros-bold.otf,
  ItalicFont=texgyreheros-italic.otf,
  BoldItalicFont=texgyreheros-bolditalic.otf
]{texgyreheros-regular.otf}

%%%%%%%%%%
% Header %
%%%%%%%%%%

\RequirePackage{tikz}

\newcommand{\rolefont}{%
  \fontsize{14pt}{24pt}\selectfont%
  \thinfont%
  \color{white}%
}

\newcommand{\header}[3]{%
  \begin{tikzpicture}[remember picture,overlay]
    \node [rectangle, anchor=north, minimum width=\paperwidth, minimum height=3.5cm] (box) at (current page.north){};
    \node [anchor=center] (name) at (box.center) {%
      \fontsize{40pt}{72pt}\color{darkgray}%
      {\thinfont #1} {\bodyfont  #2}
    };
    \draw[blue, line width=3pt] (1.2, -1) -- (2.7, -1);
    \draw[orange, line width=3pt] (2.7, -1) -- (4.2, -1);
    \draw[green, line width=3pt] (4.2, -1) -- (5.7, -1);
    \draw[purple, line width=3pt] (5.7, -1) -- (7.1, -1);
%    \node [anchor=south west] at (name.south east) {%
%      \fontsize{14pt}{24pt}\color{darkgray}%
%      \thinfont #3%
%    };
  \end{tikzpicture}
  % \begin{textblock}{3.5}(1, 1)#3\end{textblock}
  \vspace{1.2cm}
}


%%%%%%%%%%%%%
% Structure %
%%%%%%%%%%%%%

\RequirePackage{parskip}

\newcounter{colorCounter}
\def\@sectioncolor#1#2#3{%
  {%
    \color{%
      \ifcase\value{colorCounter}%
        blue\or%
        orange\or%
        green\or%
        purple\fi%
    } #1#2#3%
  }%
  \stepcounter{colorCounter}%
}

\renewcommand{\section}[1]{
  \par\vspace{.2\parskip}
  {%
    \LARGE\headingfont\color{headercolor}%
    \@sectioncolor #1%
  }
}

\renewcommand{\subsection}[1]{
  \par\vspace{.2\parskip}%
  {%
  \large\headingfont\color{headercolor} #1%
  }
  \par\vspace{.25\parskip}%
}

\pagestyle{empty}


%%%%%%%%%%%%%%%%%%%%
% List environment %
%%%%%%%%%%%%%%%%%%%%

\setlength{\tabcolsep}{0pt}
\newenvironment{entrylist}{%
  \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}}ll}
}{%
  \end{tabular*}
}

\renewcommand{\bfseries}{\headingfont\color{headercolor}}
\newcommand{\entry}[4]{%
  #1&\parbox[t]{11.0cm}{%
    \textbf{#2}%
    \hfill%
    {\footnotesize\addfontfeature{Color=lightgray} #3}\\%
    #4\vspace{\parsep}%
  }\\}


%%%%%%%%%%%%%%
% Side block %
%%%%%%%%%%%%%%

\RequirePackage[absolute,overlay]{textpos}
\setlength{\TPHorizModule}{1.1cm}
\setlength{\TPVertModule}{0.5cm}
\newenvironment{aside}{%
  \let\oldsection\section
  \renewcommand{\section}[1]{
    \par\vspace{2\baselineskip}{\Large\headingfont\color{headercolor} ##1}\vspace{\baselineskip}
  }
  \begin{textblock}{3.5}(1.5, 3.1)
  \begin{flushright}
  \obeycr
}{%
  \restorecr
  \end{flushright}
  \end{textblock}
  \let\section\oldsection
}


%%%%%%%%%%%%%%%%
% Other tweaks %
%%%%%%%%%%%%%%%%

\RequirePackage[left=6.4cm,top=1.3cm,right=1.0cm,bottom=0cm,nohead,nofoot]{geometry}
\RequirePackage{hyperref}

\usepackage{setspace}
\usepackage[none]{hyphenat}
\usepackage{enumitem}
\usepackage{blindtext}

\begin{document}

\header{Nils }{Layet}{Ingénieur EPITA web fullstack}

% In the aside, each new line forces a line break
\begin{aside}
  \includegraphics[width=\linewidth]{profile_center.jpg}
  \section{Contacts}
    75019 Paris
    France
    ~
    \href{mailto:nils.layet@gmail.com}{nils.layet@gmail.com}
    \href{https://nilslayet.com}{https://nilslayet.com}
    % 07.82.54.80.64
    ~
    \textbf{LinkedIn} \hfill nilslayet
    \textbf{Github} \hfill nilscox
    \textbf{Bitbucket} \hfill  nilscox
  \section{Langues}
    Français natif
    Anglais courant
    Espagnol notions
  \section{Technos}
  \begin{sloppypar}
    \flushleft
    \begin{itemize}
      \item[\textbf{Front-end}] HTML5 / CSS3, Angular2, React, Redux, MithrilJS
      \item[\textbf{JavaScript}] Node, Express, Loopback, SocketIO
      \item[\textbf{BDD}] PostgreSQL, MySQL, Redis
      \item[\textbf{Mobile}] Java Android, Cordova
      \item[\textbf{DevOps}] Git, Gitlab, CircleCI, Docker, make
      \item[\textbf{Java}] Maven, JEE, SpringMVC, ElasticSearch
      \item[\textbf{Python}] Django, rest\_framework, Flask
      \item[\textbf{PHP}] Symfony2, Laravel
      \item[\textbf{C / C++}] gcc, gdb, valgrind
    \end{itemize}
  \end{sloppypar}
\end{aside}


\section{Expériences professionnelles}

\begin{entrylist}
  \entry
    {03 - 12 2017}
    {CDI : Développeur web fullstack}
    {Sparted (startup), Paris}
    {HTML5, CSS3, NodeJS, Loopback 2, MithrilJS, AWS : Développement back-end et front-end d'une application mobile et d'un back office offrant une solution de \emph{micro-learning}}
  \entry
    {06 - 10 2016}
    {Projet de fin d'études : Développeur back-end}
    {Watsize (startup), Paris}
    {Java JEE, ElasticSearch : Backend d'un site e-commerce, travail de recherche sur la catégorisation \emph{sémantique} de catalogues produits}
  \entry
    {2015 - 2017}
    {ACDC / YAKA / ACU - Assistant EPITA}
    {EPITA, Paris}
    {Participation à la formation des étudiants de l'EPITA (enseignement du C, C++, SQL, Java, C\#)}
  \entry
    {09 - 12 2015}
    {Développeur back et front-end}
    {Carizy (startup), Paris}
    {PHP, Symfony2 : Développement d'un site de vente de PaP, mise en place d'un processus d'\emph{intégration continue}}
  \entry
    {07 - 08 2014}
    {Développeur android}
    {Henoïda (startup), Paris}
    {Java, Android : Développement d'une application Android pour entraîner sa mémoire. PoC et intégration d'un \emph{OCR} pour les caractères chinois}
\end{entrylist}


\section{Projets}

\subsection{A l'\emph{EPITA}}

\begin{entrylist}
  \entry
  {08 - 08 2014}
  {42sh}
  {C, libpthread}
  {Implémentation complète d'un shell POSIX \emph{from scratch}}
  \entry
  {04 - 07 2015}
  {YaKaramel}
  {Java JEE, SpringMVC, Hibernate, MySQL}
  {Développement d'un site commercial pour une entreprise fictive (rédaction des specs, gestion des risques, planning, implem, \ldots)}
  \entry
  {06 - 12 2016}
  {Suggest}
  {NodeJS, Sails, Angular2, AWS}
  {Conception et développement d'une application web de partage et de suggestion d'images}
\end{entrylist}

\subsection{Perso}

\begin{entrylist}
  \entry
  {2017}
  {CardsAgainstHumanity}
  {Django, rest\_framework, React, Redux, SocketIO}
  {Jeu de cartes au format web et mobile}
  \entry
  {2012 - 2017}
  {Karmacreep}
  {PHP, Ruby, Python, NodeJS, Angular, et plus\ldots}
  {Book d'une photographe au format web (projet "sandbox" réalisé plusieurs fois pour apprendre à chaque fois une technologie spécifique)}
\end{entrylist}


\section{Cursus}

\begin{entrylist}
  \entry
    {2012 - (2017)}
    {Diplôme d'ingénieur en informatique}
    {EPITA, Paris}
    {Majeure Multimédia et Technologies de l'Information}
  \entry
    {S1 2014}
    {Cursus universitaire Erasmus}
    {Bahçeşehir Üniversitesi, Istanbul}
    {Un semestre complet dans une université en Turquie (cours en anglais)}
  \entry
    {2009 - 2011}
    {Baccalauréat Scientifique}
    {Lycée J. Siegfried, Le Havre}
    {Mention AB}
  \entry
    {2008 - 2009}
    {High School 11th grade}
    {Casa Grande High School, Petaluma (CA)}
    {Une année en immersion complète en Californie}
\end{entrylist}


\section{Centres d'intérêts}

\begin{itemize}[leftmargin=2.15cm]
    \item[\textbf{Musique}] Piano ; Basse ; MAO. Participation à plusieurs groupes de musique, autant au piano qu'à la basse ; créations solo sur ordinateur
    \item[\textbf{Magie}] Cartes ; Cordes ; Pièces ; Anneaux\ldots Membre de la Fédération Française des Artistes Prestidigitateurs et du Cercle Magique Robert Houdin de
Normandie.
\end{itemize}

\end{document}
